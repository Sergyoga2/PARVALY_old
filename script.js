const translations = {
  ru: {
    nav_services: "Услуги",
    nav_packages: "Пакеты",
    nav_process: "Процесс",
    nav_faq: "FAQ",
    nav_cta: "Получить аудит",
    tagline: "Клиенты из Google Maps, поиска и рекламы — по всему миру",
    hero_title: "Получайте клиентов из Google Maps и поиска",
    hero_subtitle:
      "Создадим или прокачаем карточку Google Maps (Google Business Profile), подключим мессенджеры и усилим видимость. Для быстрых заявок — запускаем рекламу и делаем посадочные.",
    primary_cta: "Получить бесплатный мини-аудит",
    secondary_cta: "Написать в WhatsApp / Viber",
    hero_note:
      "Работаем по всему миру. Общение — WhatsApp Business / Viber. Русский и сербский (латиница).",
    hero_card_title: "Бесплатный мини-аудит",
    hero_card_text: "Короткий список улучшений и приоритетов для роста в Google Maps.",
    hero_card_item1: "Скорость: 24–48 часов",
    hero_card_item2: "Фокус на заявках и действиях",
    hero_card_item3: "Конкуренты + точки роста",
    trust_title: "Что отличает нашу работу",
    trust_item1_title: "Без сказок",
    trust_item1_text: "Не обещаем точное число клиентов заранее. Делаем план и растим измеримые метрики.",
    trust_item2_title: "Сильная база в картах",
    trust_item2_text: "Исправляем категории, услуги, контент, отзывы и структуру.",
    trust_item3_title: "Быстрые ответы лидам",
    trust_item3_text: "Подключаем мессенджеры, готовим шаблоны и логику обработки.",
    trust_item4_title: "Прозрачность",
    trust_item4_text: "Чек-лист работ + отчёты: что сделали и что изменилось.",
    services_title: "Услуги",
    service1_title: "Создание карточки Google Maps под ключ",
    service1_lead:
      "Создаём и настраиваем Google Business Profile так, чтобы карточка индексировалась и была готова к росту.",
    service1_item1: "Создание карточки и выбор типа бизнеса (с адресом/без адреса)",
    service1_item2: "Категории, услуги/прайс, контакты, график, атрибуты",
    service1_item3: "Фото/обложки, подготовка к подтверждению",
    service1_item4: "Передача прав и добавление менеджеров",
    service1_result: "Результат: корректная карточка, готовая к продвижению.",
    service1_needs: "Нужно: название, контакты, адрес/зоны, 10–20 фото, список услуг и цен.",
    service2_title: "Бесплатный мини-аудит Google Maps",
    service2_lead: "Находим 5–15 проблем, которые мешают росту, и даём приоритеты.",
    service2_item1: "Проверка заполненности, категорий, услуг, отзывов, фото",
    service2_item2: "Сравнение с 3–5 конкурентами",
    service2_item3: "План: что исправить сегодня/на неделе/за месяц",
    service2_result: "Результат: понимание, что даст рост и с чего начать.",
    service2_needs: "Нужно: ссылка на карточку.",
    service3_title: "Полный аудит + стратегия роста (Google Maps SEO)",
    service3_lead: "Системный разбор и план на 4–8 недель.",
    service3_item1: "Анализ факторов ранжирования",
    service3_item2: "Категории и услуги до максимума релевантных",
    service3_item3: "Контент и отзывы: стратегия и шаблоны",
    service3_item4: "Проверка дублей, доступов, ошибок",
    service3_item5: "План работ + KPI",
    service3_result: "Результат: пошаговый план улучшений и логика роста.",
    service3_needs: "Нужно: ссылка на карточку, список услуг, география клиентов.",
    service4_title: "Оптимизация карточки (разовая)",
    service4_lead: "Приводим карточку в порядок и повышаем конверсию действий.",
    service4_item1: "Категории, описание, атрибуты, контакты",
    service4_item2: "Услуги/прайс: структура и формулировки",
    service4_item3: "Фото-пакет + стартовые посты",
    service4_item4: "Q&A и кнопки связи",
    service4_result: "Результат: больше целевых действий: звонки/маршрут/сообщения.",
    service4_needs: "Нужно: доступ к карточке, материалы (фото/логотип/цены).",
    service5_title: "Ежемесячное ведение и рост",
    service5_lead: "Регулярная работа над видимостью, репутацией и контентом.",
    service5_item1: "Контент-план и публикации",
    service5_item2: "Отзывы и репутация",
    service5_item3: "Обновление фото/видео",
    service5_item4: "Мониторинг видимости и тест гипотез",
    service5_item5: "Ежемесячный отчёт",
    service5_result: "Результат: стабильный рост видимости и обращений.",
    service5_needs: "Нужно: доступ к карточке, согласование правил по отзывам.",
    service6_title: "Таргетированная реклама (Meta)",
    service6_lead: "Запускаем лиды через Instagram/Facebook: сообщения, лид-формы, сайт.",
    service6_item1: "Стратегия воронки (холодная/тёплая/ретаргет)",
    service6_item2: "Креативы: статик/видео",
    service6_item3: "Лид-формы или трафик на сайт",
    service6_item4: "Пиксель и события (если есть сайт)",
    service6_item5: "Оптимизация по цене и качеству лида",
    service6_result: "Результат: управляемые заявки по понятной цене.",
    service6_needs: "Нужно: доступ к рекламному кабинету, оффер/цены, гео.",
    service7_title: "Контекстная реклама (Google Ads)",
    service7_lead: "Забираем горячий спрос из поиска.",
    service7_item1: "Ключи, минус-слова, объявления, расширения",
    service7_item2: "Конверсии (заявка/звонок/сообщение)",
    service7_item3: "Оптимизация по реальным запросам",
    service7_result: "Результат: лиды из поиска с понятной экономикой.",
    service7_needs: "Нужно: сайт/лендинг или лид-механика, доступ к Google Ads.",
    service8_title: "Сайты и лендинги",
    service8_lead: "Делаем страницы, которые продают и не тормозят.",
    service8_item1: "Структура продаж и UX",
    service8_item2: "Мобильная скорость",
    service8_item3: "GA4/пиксель + события",
    service8_item4: "Кнопки WhatsApp/звонок/форма",
    service8_result: "Результат: готовая посадочная под рекламу или сайт под SEO.",
    service8_needs: "Нужно: тексты/УТП, фото/кейсы, домен (если есть).",
    service9_title: "SEO-оптимизация",
    service9_lead: "Строим органику: структура, семантика, контент и техничка.",
    service9_item1: "SEO-аудит",
    service9_item2: "Семантика и страницы услуг",
    service9_item3: "Контент-план",
    service9_item4: "Улучшение конверсии страниц",
    service9_result: "Результат: рост поискового трафика и заявок.",
    service9_needs: "Нужно: доступ к сайту/аналитике.",
    packages_title: "Пакеты",
    package1_title: "Старт",
    package1_item1: "Карточка под ключ или приведение в порядок",
    package1_item2: "Базовая оптимизация",
    package1_item3: "Инструкция по отзывам и обработке",
    package2_title: "Рост",
    package2_item1: "Полный аудит + оптимизация",
    package2_item2: "Ведение 1–2 месяца",
    package2_item3: "Отчёты и план дальше",
    package3_title: "Лиды",
    package3_item1: "Таргет или Google Ads",
    package3_item2: "Лендинг/формы/WhatsApp-воронка",
    package3_item3: "Еженедельная оптимизация",
    package4_title: "Под ключ",
    package4_item1: "Карты + сайт + реклама + аналитика",
    package4_item2: "Ежемесячное ведение",
    package4_item3: "Масштабирование",
    process_title: "Как мы работаем",
    process_step1: "Вы присылаете ссылку на карточку/сайт/соцсети",
    process_step2: "Мы делаем мини-аудит и выделяем приоритеты",
    process_step3: "Согласуем план и объём работ",
    process_step4: "Получаем доступы (карточка/кабинеты/сайт)",
    process_step5: "Выполняем работы по чек-листу",
    process_step6: "Отчёт + следующий шаг",
    faq_title: "Вопросы и ответы",
    faq_q1: "Можно ли обещать точное количество клиентов?",
    faq_a1:
      "Нет. Google и реклама зависят от конкуренции, сезона, региона и качества обработки заявок. Мы фиксируем измеримые метрики и показываем динамику.",
    faq_q2: "Можно ли продвигаться без адреса (service area)?",
    faq_a2:
      "Да, но стратегия отличается. Не всегда получится конкурировать с карточками, у которых подтверждён адрес в нужной точке — это обсуждаем на аудите.",
    faq_q3: "Нужен ли сайт, если есть карточка?",
    faq_a3: "Иногда достаточно карточки. Но сайт усиливает доверие, помогает SEO и делает рекламу эффективнее.",
    faq_q4: "Где общаемся?",
    faq_a4: "WhatsApp Business / Viber. Быстро отвечаем, используем шаблоны и понятную логику обработки.",
    contact_title: "Получите бесплатный мини-аудит вашей карточки",
    contact_subtitle:
      "Пришлите ссылку на Google Maps — вернёмся с коротким списком улучшений и приоритетов.",
    contact_whatsapp: "WhatsApp / Viber:",
    contact_email: "Email:",
    form_maps_label: "Ссылка на карточку Google Maps",
    form_niche_label: "Ниша/услуга",
    form_geo_label: "Город/район",
    form_contact_label: "Контакт (WhatsApp/Viber)",
    form_submit: "Отправить заявку",
    form_note: "Заявка отправится на нашу почту. Ответим в течение 24–48 часов.",
    footer_tagline: "Клиенты из Google Maps, поиска и рекламы — по всему миру.",
    footer_location: "Работаем по всему миру. Сербия, Европа, СНГ."
  },
  en: {
    nav_services: "Services",
    nav_packages: "Packages",
    nav_process: "Process",
    nav_faq: "FAQ",
    nav_cta: "Get an audit",
    tagline: "Customers from Google Maps, Search and Ads — worldwide",
    hero_title: "Get more customers from Google Maps and Search",
    hero_subtitle:
      "We create or optimize your Google Business Profile, connect messengers for instant inquiries, and increase your visibility. Need leads fast? We launch ads and build landing pages.",
    primary_cta: "Get a free mini-audit",
    secondary_cta: "Message on WhatsApp / Viber",
    hero_note: "We work worldwide. Communication is mostly WhatsApp Business / Viber.",
    hero_card_title: "Free mini-audit",
    hero_card_text: "A short list of improvements and priorities to grow on Google Maps.",
    hero_card_item1: "Turnaround: 24–48 hours",
    hero_card_item2: "Focus on leads and actions",
    hero_card_item3: "Competitors + growth levers",
    trust_title: "What makes our work different",
    trust_item1_title: "No fake promises",
    trust_item1_text: "No 1,000-customer guarantees. We build a plan and grow measurable metrics.",
    trust_item2_title: "Strong Maps foundation",
    trust_item2_text: "Categories, services, content, reviews, and structure that move rankings.",
    trust_item3_title: "Fast lead handling",
    trust_item3_text: "Messengers, templates, and workflow so inquiries don’t get lost.",
    trust_item4_title: "Transparency",
    trust_item4_text: "Checklist + reporting: what we did and what changed.",
    services_title: "Services",
    service1_title: "Google Business Profile setup (from scratch)",
    service1_lead: "We create and configure a compliant profile ready for growth.",
    service1_item1: "Profile creation and business model selection (address/service area)",
    service1_item2: "Categories, services/price list, contacts, hours, attributes",
    service1_item3: "Starter media pack + verification readiness",
    service1_item4: "Ownership transfer and manager access",
    service1_result: "Outcome: a clean, compliant profile ready for growth.",
    service1_needs: "Need: name, contacts, address/service areas, 10–20 photos, service list & prices.",
    service2_title: "Free Google Maps mini-audit",
    service2_lead: "We find 5–15 blockers and send priorities.",
    service2_item1: "Completeness, categories, services, photos, reviews check",
    service2_item2: "3–5 competitor comparison",
    service2_item3: "Action list: today/this week/this month",
    service2_result: "Outcome: clear next steps that can increase performance.",
    service2_needs: "Need: a Google Maps link.",
    service3_title: "Full audit + growth strategy (Google Maps SEO)",
    service3_lead: "Systematic analysis and a 4–8 week roadmap.",
    service3_item1: "Ranking factors review (relevance/distance/prominence)",
    service3_item2: "Category & services expansion",
    service3_item3: "Content and reviews strategy",
    service3_item4: "Duplicates/access/data issues check",
    service3_item5: "Roadmap + KPI model",
    service3_result: "Outcome: a step-by-step growth plan with clear logic.",
    service3_needs: "Need: profile link, service list, target geography.",
    service4_title: "One-time profile optimization",
    service4_lead: "We clean up and strengthen your profile to convert views into actions.",
    service4_item1: "Categories, description, attributes, contacts",
    service4_item2: "Services/price list structure",
    service4_item3: "Media recommendations + uploads",
    service4_item4: "Starter posts and Q&A",
    service4_result: "Outcome: more actions (calls, directions, messages).",
    service4_needs: "Need: GBP access, assets (photos/logo/prices).",
    service5_title: "Monthly management & growth",
    service5_lead: "Ongoing work on visibility, reputation and content.",
    service5_item1: "Content plan + posts",
    service5_item2: "Reviews & reputation",
    service5_item3: "Photo/video updates",
    service5_item4: "Visibility monitoring and hypothesis testing",
    service5_item5: "Monthly reporting",
    service5_result: "Outcome: stable long-term visibility and lead flow.",
    service5_needs: "Need: GBP access, agreement on reviews workflow.",
    service6_title: "Instagram/Facebook ads (Meta)",
    service6_lead: "Lead generation via messages, lead forms or website.",
    service6_item1: "Funnel setup (cold/warm/retargeting)",
    service6_item2: "Creatives: image/video",
    service6_item3: "Lead forms or website traffic",
    service6_item4: "Pixel/events (if website exists)",
    service6_item5: "Weekly optimization for cost and quality",
    service6_result: "Outcome: predictable leads at a clear cost.",
    service6_needs: "Need: ad account access, offer/pricing, geo.",
    service7_title: "Google Ads (Search)",
    service7_lead: "Capture high-intent demand from search.",
    service7_item1: "Keywords, negatives, ads, extensions",
    service7_item2: "Conversion tracking",
    service7_item3: "Ongoing optimization by real search terms",
    service7_result: "Outcome: search leads with clear economics.",
    service7_needs: "Need: landing or lead mechanism, Google Ads access.",
    service8_title: "Websites & landing pages",
    service8_lead: "Fast, mobile-first pages that convert.",
    service8_item1: "Sales structure and UX",
    service8_item2: "Analytics (GA4/Pixel) + events",
    service8_item3: "WhatsApp/call/form integrations",
    service8_result: "Outcome: a ready landing page for ads or a site foundation for SEO.",
    service8_needs: "Need: USP/text inputs, photos/cases, domain (if any).",
    service9_title: "SEO for websites",
    service9_lead: "Technical + semantic + content work to grow organic traffic.",
    service9_item1: "SEO audit",
    service9_item2: "Semantic map and service pages",
    service9_item3: "Content plan",
    service9_item4: "CRO improvements",
    service9_result: "Outcome: organic traffic growth and better conversions.",
    service9_needs: "Need: website/analytics access.",
    packages_title: "Packages",
    package1_title: "Starter",
    package1_item1: "GBP setup/cleanup",
    package1_item2: "Baseline optimization",
    package1_item3: "Lead handling guide",
    package2_title: "Growth",
    package2_item1: "Full audit + optimization",
    package2_item2: "1–2 months management",
    package2_item3: "Reporting + next plan",
    package3_title: "Leads",
    package3_item1: "Meta or Google Ads",
    package3_item2: "Landing/lead flow",
    package3_item3: "Weekly optimization",
    package4_title: "Turnkey",
    package4_item1: "Maps + site + ads + analytics",
    package4_item2: "Monthly management",
    package4_item3: "Scaling",
    process_title: "How we work",
    process_step1: "You send your Maps link / website / socials",
    process_step2: "We deliver a free mini-audit",
    process_step3: "We agree on scope and plan",
    process_step4: "We get access",
    process_step5: "We execute by checklist",
    process_step6: "Report + next steps",
    faq_title: "FAQ",
    faq_q1: "Can you promise an exact number of customers?",
    faq_a1:
      "No — too many variables. We focus on measurable metrics and transparent progress.",
    faq_q2: "Can you rank without a public address (service area business)?",
    faq_a2: "Yes, but the strategy differs. We explain constraints during the audit.",
    faq_q3: "Do I need a website if I have a GBP profile?",
    faq_a3: "Not always, but it strengthens trust, ads performance and SEO.",
    faq_q4: "Where do we communicate?",
    faq_a4: "WhatsApp Business / Viber. Fast replies and templates so leads don’t get lost.",
    contact_title: "Get a free Google Maps mini-audit",
    contact_subtitle:
      "Send your Google Maps link — we’ll reply with a short list of improvements and priorities.",
    contact_whatsapp: "WhatsApp / Viber:",
    contact_email: "Email:",
    form_maps_label: "Google Maps link",
    form_niche_label: "Niche / service",
    form_geo_label: "City / area",
    form_contact_label: "WhatsApp / Viber",
    form_submit: "Send inquiry",
    form_note: "We will send your request to our email and reply within 24–48 hours.",
    footer_tagline: "Customers from Google Maps, Search and Ads — worldwide.",
    footer_location: "We work worldwide. Serbia, Europe, CIS."
  }
};

const emailRecipient = "hello@parvaly.com";

const langButtons = document.querySelectorAll(".lang-button");
const elementsToTranslate = document.querySelectorAll("[data-i18n]");

const defaultLang = "ru";
const supportedLangs = Object.keys(translations);

const updateLanguageUrl = (lang) => {
  const url = new URL(window.location.href);
  if (lang === defaultLang) {
    url.searchParams.delete("lang");
  } else {
    url.searchParams.set("lang", lang);
  }
  window.history.replaceState({}, "", url);
};

const getInitialLanguage = () => {
  const params = new URLSearchParams(window.location.search);
  const langFromUrl = params.get("lang");
  if (langFromUrl && supportedLangs.includes(langFromUrl)) {
    return langFromUrl;
  }
  return defaultLang;
};

const setLanguage = (lang, { syncUrl = true } = {}) => {
  if (!translations[lang]) {
    return;
  }
  document.documentElement.lang = lang;
  elementsToTranslate.forEach((el) => {
    const key = el.dataset.i18n;
    if (translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });

  langButtons.forEach((button) => {
    button.classList.toggle("is-active", button.dataset.lang === lang);
  });

  if (syncUrl) {
    updateLanguageUrl(lang);
  }
};

langButtons.forEach((button) => {
  button.addEventListener("click", () => setLanguage(button.dataset.lang));
});

setLanguage(getInitialLanguage());

const form = document.getElementById("audit-form");
form.addEventListener("submit", (event) => {
  event.preventDefault();
  const formData = new FormData(form);
  const subject = "PARVALY — Mini Audit Request";
  const body =
    `Google Maps: ${formData.get("maps_link")}\n` +
    `Niche: ${formData.get("niche")}\n` +
    `Geo: ${formData.get("geo")}\n` +
    `Contact: ${formData.get("contact")}\n`;

  const mailtoUrl = `mailto:${emailRecipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  window.location.href = mailtoUrl;
});
