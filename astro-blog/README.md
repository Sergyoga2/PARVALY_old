# PARVALY Blog (Astro Static Blog)

Static SEO blog for parvaly.com, built with Astro. Generates pure HTML that deploys to `/blog/` on Hostinger.

## Quick Start

```bash
cd astro-blog
npm install
npm run dev      # Start dev server
npm run build    # Build to dist/
npm run preview  # Preview built site
```

## Adding a New Article

Create a Markdown file in `src/content/blog/` with the naming pattern:

```
src/content/blog/YYYY-MM-DD-slug-name.md
```

### Required Frontmatter

```yaml
---
title: "Article Title"
description: "Meta description (150-160 chars recommended)"
slug: "article-slug"
date: "2026-02-07"
updated: "2026-02-07"
category: "Category Name"
tags:
  - "tag one"
  - "tag two"
readingMinutes: 9
draft: false
faq:
  - q: "Question one?"
    a: "Answer one."
  - q: "Question two?"
    a: "Answer two."
  - q: "Question three?"
    a: "Answer three."
---
```

### Optional Frontmatter Fields

```yaml
canonical: "https://parvaly.com/blog/custom-canonical/"  # auto-generated if omitted
heroImage: "/images/hero.jpg"
heroImageAlt: "Description of hero image"
internalLinks:                    # manual interlinking
  - "/blog/related-article-slug/"
pillar: "topic-cluster-name"      # for future topic clusters
cluster: "sub-topic-name"         # for future topic clusters
```

### Frontmatter Rules

- `slug`: lowercase, only `[a-z0-9-]`, max 70 chars
- `faq`: minimum 3, maximum 8 questions
- `draft: true` posts are built but have `noindex` and are excluded from the sitemap
- `canonical` is auto-generated from slug if not provided

### Content Guidelines

- Do NOT include H1 in Markdown (title is rendered from frontmatter)
- Use H2 and H3 headings (minimum 3 H2s recommended)
- Internal links to other blog posts work as standard Markdown links

## URL Structure

| Page | URL |
|------|-----|
| Blog listing | `/blog/` |
| Article | `/blog/<slug>/` |
| Category | `/blog/category/<category-slug>/` |
| Tag | `/blog/tag/<tag-slug>/` |
| Pagination | `/blog/page/2/` |
| Sitemap | `/blog/sitemap.xml` |
| RSS | `/blog/rss.xml` |

## SEO Features

Each article page includes:

- Title tag: `{title} | PARVALY`
- Meta description, canonical URL, robots meta
- Open Graph and Twitter Card meta tags
- JSON-LD: BlogPosting, BreadcrumbList, FAQPage
- Table of Contents (from H2/H3 headings)
- Related Posts (auto-generated by tag/category similarity)
- Recommended Reading (from `internalLinks` frontmatter)
- CTA block
- FAQ accordion with FAQPage schema

## Deployment

Automatic deployment via GitHub Actions on push to `main` (only when files in `astro-blog/` change).

### Required GitHub Secrets

| Secret | Description |
|--------|-------------|
| `HOSTINGER_HOST` | SSH hostname |
| `HOSTINGER_USER` | SSH username |
| `HOSTINGER_SSH_KEY` | Private SSH key |
| `HOSTINGER_PORT` | SSH port |
| `HOSTINGER_TARGET_DIR` | Target path, e.g. `~/domains/parvaly.com/public_html/blog` |

### Manual Deploy

The workflow can also be triggered manually from GitHub Actions.

## make.com Integration

When creating articles via make.com:

1. Create file at `src/content/blog/YYYY-MM-DD-slug.md`
2. Follow the frontmatter schema exactly
3. Ensure slug is unique (lowercase, `[a-z0-9-]`, max 70 chars)
4. Set `draft: true` initially if needed for review
5. Commit and push to `main` to trigger deployment

## Project Structure

```
astro-blog/
├── astro.config.mjs          # Astro configuration
├── src/
│   ├── content.config.ts      # Content collection schema
│   ├── content/blog/          # Blog posts (Markdown)
│   ├── layouts/               # Page layouts
│   ├── components/            # Reusable components
│   ├── pages/                 # Route pages
│   ├── styles/                # Global CSS
│   └── utils/                 # Helper functions
└── public/                    # Static assets
```
